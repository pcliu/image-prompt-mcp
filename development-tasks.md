# å¼€å‘ä»»åŠ¡è¿›åº¦ç®¡ç†

## ä»»åŠ¡çŠ¶æ€è¯´æ˜
- ğŸ”² æœªå¼€å§‹
- ğŸ—ï¸ è¿›è¡Œä¸­
- âœ… å·²å®Œæˆ
- ğŸ”„ éœ€è¦ä¿®æ”¹
- â¸ï¸ å·²æš‚åœ
- âŒ å·²å–æ¶ˆ

## æ ¸å¿ƒåŠŸèƒ½å®ç°è¿›åº¦

### 1. åŸºç¡€æ¡†æ¶æ­å»º [âœ…]
- [âœ…] è®¾ç½® MCP Server åŸºç¡€ç»“æ„ [src/index.ts](mdc:src/index.ts)
  - å·²å®ŒæˆåŸºæœ¬çš„ MCP Server è®¾ç½®
  - å®ç°äº†åŸºç¡€çš„å›¾åƒæç¤ºç”Ÿæˆå·¥å…·
  - ä¿®å¤äº†æ‰€æœ‰ linter é”™è¯¯
- [âœ…] é…ç½® TypeScript ç¯å¢ƒ
  - å·²é…ç½® tsconfig.json
  - å·²è®¾ç½® ESLint å’Œ Prettier
- [âœ…] æ·»åŠ å¿…è¦çš„ä¾èµ–é¡¹
  - å·²æ·»åŠ  @modelcontextprotocol/sdk
  - å·²æ·»åŠ  zod ç”¨äºå‚æ•°éªŒè¯
  - å·²æ·»åŠ å…¶ä»–å¿…è¦çš„å¼€å‘ä¾èµ–
- [âœ…] åˆ›å»ºåŸºç¡€ç›®å½•ç»“æ„
  - å·²åˆ›å»º src/tools ç›®å½•ï¼ˆç”¨äº MCP å·¥å…·å®ç°ï¼‰
    - prompts.ts - æç¤ºè¯ç”Ÿæˆå·¥å…·
    - images.ts - å›¾ç‰‡ç”Ÿæˆå·¥å…·
    - templates.ts - æ¨¡æ¿ç›¸å…³å·¥å…·
  - å·²åˆ›å»º src/models ç›®å½•ï¼ˆç”¨äºæ•°æ®æ¨¡å‹å®šä¹‰ï¼‰
    - template.ts - æ¨¡æ¿æ•°æ®ç»“æ„
    - image.ts - å›¾ç‰‡ç”Ÿæˆç›¸å…³ç»“æ„
    - prompt.ts - æç¤ºè¯æ•°æ®ç»“æ„
  - å·²åˆ›å»º src/sampling ç›®å½•ï¼ˆç”¨äº Sampling ç›¸å…³å®ç°ï¼‰
    - checker.ts - èƒ½åŠ›æ£€æŸ¥
    - handler.ts - è¯·æ±‚å¤„ç†
  - å·²åˆ›å»º src/utils ç›®å½•ï¼ˆç”¨äºå·¥å…·å‡½æ•°ï¼‰
  - å·²åˆ›å»º templates ç›®å½•ï¼ˆç”¨äºæ¨¡æ¿æ–‡ä»¶å­˜å‚¨ï¼‰
    - children-book/ - å„¿ç«¥ä¹¦ç±æ¨¡æ¿
    - tech-doc/ - æŠ€æœ¯æ–‡æ¡£æ¨¡æ¿
    - marketing/ - è¥é”€å†…å®¹æ¨¡æ¿
    - **å·²å®Œæˆä¸‰å¤§ç±»å…¸å‹é¢„å®šä¹‰æ¨¡æ¿çš„è®¾è®¡ä¸ä¿å­˜ï¼Œå†…å®¹è¦†ç›–æ‰€æœ‰ä¸»è¦å‚æ•°ï¼Œä¾¿äºåç»­å¼€å‘ä¸æµ‹è¯•ã€‚**
  - å·²åˆ›å»º tests ç›®å½•ï¼ˆç”¨äºæµ‹è¯•æ–‡ä»¶ï¼‰
    - tools/ - å·¥å…·æµ‹è¯•
    - sampling/ - Sampling æµ‹è¯•
    - integration/ - é›†æˆæµ‹è¯•

### 2. æ¨¡æ¿ç®¡ç†åŠŸèƒ½ [âœ…]
- [âœ…] å®ç°æ¨¡æ¿æ•°æ®ç»“æ„ [src/models/template.ts](mdc:src/models/template.ts)
  - [âœ…] å®šä¹‰æ¨¡æ¿åŸºæœ¬ç»“æ„
  - [âœ…] æ·»åŠ ç‰ˆæœ¬æ§åˆ¶å­—æ®µ
  - [âœ…] å®ç°æ¨¡æ¿éªŒè¯é€»è¾‘
- [âœ…] å®ç° listTemplates [src/tools/templates.ts](mdc:src/tools/templates.ts)
  - [âœ…] å®ç°æ¨¡æ¿åˆ—è¡¨è·å–
  - [âœ…] æ·»åŠ åˆ†é¡µæ”¯æŒ
  - [âœ…] æ·»åŠ è¿‡æ»¤å’Œæ’åº
- [âœ…] å®ç° getTemplate
  - [âœ…] å®ç°æ¨¡æ¿è¯¦æƒ…è·å–
  - [âœ…] æ·»åŠ ç‰ˆæœ¬æ”¯æŒ
  - [âœ…] é”™è¯¯å¤„ç†
- [âœ…] å®ç° createTemplate
  - [âœ…] å®ç°åŸºæœ¬æ¨¡æ¿åˆ›å»º
  - [âœ…] æ·»åŠ å‚æ•°éªŒè¯
  - [âœ…] å®ç°æ¨¡æ¿å­˜å‚¨
- [âœ…] å®ç° createTemplateFromImage
  - [âœ…] å®ç°å›¾ç‰‡åˆ†æ
  - [âœ…] æå–æ¨¡æ¿å‚æ•°
  - [âœ…] ç”Ÿæˆæ¨¡æ¿ç»“æ„
- [âœ…] å®ç° updateTemplate
  - [âœ…] å®ç°æ¨¡æ¿æ›´æ–°åŠŸèƒ½
  - [âœ…] æ·»åŠ ç‰ˆæœ¬ç®¡ç†
  - [âœ…] æ·»åŠ å‚æ•°éªŒè¯
- [âœ…] å®ç° deleteTemplate
  - [âœ…] å®ç°æ¨¡æ¿åˆ é™¤åŠŸèƒ½
  - [âœ…] æ·»åŠ é”™è¯¯å¤„ç†
- [âœ…] ç¼–å†™å•å…ƒæµ‹è¯•
  - [âœ…] åŸºæœ¬åŠŸèƒ½æµ‹è¯•
  - [âœ…] å‚æ•°éªŒè¯æµ‹è¯•
  - [âœ…] é”™è¯¯å¤„ç†æµ‹è¯•

### 3. å›¾ç‰‡ç”ŸæˆåŠŸèƒ½ [ğŸ”„]
- [ğŸ”„] é‡æ„ generatePrompt ä»¥æ”¯æŒæ¨¡æ¿ @src/tools/prompts.ts
  - [ ] æ•´åˆæ¨¡æ¿ç³»ç»Ÿ
  - [ ] æ›´æ–°å‚æ•°éªŒè¯é€»è¾‘
  - [ ] ä¼˜åŒ–æç¤ºè¯ç»„è£…é€»è¾‘
- [ğŸ”„] é‡æ„ generateImage [src/tools/images.ts](mdc:src/tools/images.ts)
  - [ ] æ•´åˆæ¨¡æ¿ç³»ç»Ÿ
  - [ ] æ›´æ–° Client capabilities æ£€æŸ¥
  - [ ] ä¼˜åŒ–é”™è¯¯å¤„ç†æœºåˆ¶
- [âœ…] å®ç° Sampling åŠŸèƒ½ [src/sampling](mdc:src/sampling)
  - [âœ…] Client capabilities æ£€æŸ¥
  - [âœ…] Sampling è¯·æ±‚å¤„ç†
  - [âœ…] é”™è¯¯å¤„ç†æœºåˆ¶
- [ ] ç¼–å†™å•å…ƒæµ‹è¯•
  - [ ] åŸºæœ¬åŠŸèƒ½æµ‹è¯•
  - [ ] Sampling æ”¯æŒæµ‹è¯•
  - [ ] é”™è¯¯åœºæ™¯æµ‹è¯•
- [ ] æ‰‹åŠ¨éªŒè¯
  - [ ] æ”¯æŒ sampling çš„åœºæ™¯æµ‹è¯•
  - [ ] ä¸æ”¯æŒ sampling çš„åœºæ™¯æµ‹è¯•
  - [ ] éªŒè¯ç”Ÿæˆçš„å›¾ç‰‡è´¨é‡

### 4. Sampling é›†æˆ [âœ…]
- [âœ…] å®ç° checkSamplingSupport [src/sampling/checker.ts](mdc:src/sampling/checker.ts)
- [âœ…] å®ç° handleSamplingRequest [src/sampling/handler.ts](mdc:src/sampling/handler.ts)
- [âœ…] å®ç° processSamplingResponse
- [âœ…] æ·»åŠ é”™è¯¯å¤„ç†
- [âœ…] ç¼–å†™é›†æˆæµ‹è¯• [tests/integration/sampling.test.ts](mdc:tests/integration/sampling.test.ts)

### 5. å›¾ç‰‡åˆ†ææ¨¡æ¿ç”Ÿæˆ [ğŸ”²]
- [ ] å®ç° withSampling æ¨¡å¼ [src/tools/templates.ts](mdc:src/tools/templates.ts)
- [ ] å®ç° withoutSampling æ¨¡å¼
- [ ] æ·»åŠ å®¢æˆ·ç«¯èƒ½åŠ›æ£€æµ‹
- [ ] å®ç°é™çº§å¤„ç†
- [ ] ç¼–å†™æµ‹è¯•ç”¨ä¾‹

## ä¼˜åŒ–ä»»åŠ¡

### P1 - é‡è¦åŠŸèƒ½ [ğŸ”²]
- [ ] æ¨¡æ¿ç³»ç»Ÿä¼˜åŒ–
  - [ ] å®ç°æ¨¡æ¿ç»§æ‰¿æœºåˆ¶
  - [ ] æ·»åŠ æ¨¡æ¿ç»„åˆåŠŸèƒ½
  - [ ] ä¼˜åŒ–æ¨¡æ¿å¤ç”¨é€»è¾‘
- [ ] æ¨¡æ¿ç‰ˆæœ¬æ§åˆ¶
  - [ ] å®ç°ç‰ˆæœ¬å·ç®¡ç†
  - [ ] æ·»åŠ ç‰ˆæœ¬å†å²è®°å½•
  - [ ] å®ç°ç‰ˆæœ¬å›æ»šåŠŸèƒ½
- [ ] é»˜è®¤æ¨¡æ¿é…ç½®
  - [ ] åˆ›å»ºåŸºç¡€æ¨¡æ¿
  - [ ] å®ç°æ¨¡æ¿ç»§æ‰¿æœºåˆ¶
  - [ ] æ·»åŠ é»˜è®¤å€¼å¤„ç†

### P2 - ä¼˜åŒ–åŠŸèƒ½ [ğŸ”²]
- [ ] æ¨¡æ¿ç¼“å­˜æœºåˆ¶
  - [ ] å®ç°å†…å­˜ç¼“å­˜
  - [ ] æ·»åŠ ç¼“å­˜å¤±æ•ˆç­–ç•¥
- [ ] æ‰¹é‡æ“ä½œæ”¯æŒ
  - [ ] å®ç°æ‰¹é‡åˆ›å»º
  - [ ] å®ç°æ‰¹é‡æ›´æ–°
- [ ] æ€§èƒ½ä¼˜åŒ–
  - [ ] ä¼˜åŒ–å“åº”æ—¶é—´
  - [ ] å‡å°‘èµ„æºå ç”¨

## æµ‹è¯•è®¡åˆ’

### å•å…ƒæµ‹è¯• [ğŸ”²]
- [ ] å·¥å…·å‡½æ•°æµ‹è¯•
- [ ] å‚æ•°éªŒè¯æµ‹è¯•
- [ ] é”™è¯¯å¤„ç†æµ‹è¯•

### é›†æˆæµ‹è¯• [ğŸ”²]
- [ ] Sampling åŠŸèƒ½æµ‹è¯•
- [ ] å®Œæ•´å·¥ä½œæµæµ‹è¯•
- [ ] å®¢æˆ·ç«¯å…¼å®¹æ€§æµ‹è¯•

### æ¨¡æ¿æµ‹è¯• [ğŸ”²]
- [ ] æ ¼å¼éªŒè¯æµ‹è¯•
- [ ] é»˜è®¤å€¼å¤„ç†æµ‹è¯•
- [ ] å‚æ•°è¦†ç›–æµ‹è¯•

## å‘å¸ƒæ£€æŸ¥æ¸…å•

### 1. ä»£ç è´¨é‡ [ğŸ”²]
- [ ] TypeScript ç±»å‹æ£€æŸ¥
- [ ] ESLint è§„èŒƒæ£€æŸ¥
- [ ] ä»£ç æ³¨é‡Šå®Œæ•´æ€§
- [ ] æ–‡æ¡£æ›´æ–°

### 2. æµ‹è¯•è¦†ç›– [ğŸ”²]
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80%
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] æ€§èƒ½æµ‹è¯•è¾¾æ ‡

### 3. å®‰å…¨æ£€æŸ¥ [ğŸ”²]
- [ ] è¾“å…¥éªŒè¯å®Œæ•´æ€§
- [ ] é”™è¯¯å¤„ç†å®Œæ•´æ€§
- [ ] æ•æ„Ÿä¿¡æ¯å¤„ç†
- [ ] é€Ÿç‡é™åˆ¶å®ç°

## è¿›åº¦æ›´æ–°è®°å½•

```typescript
interface ProgressUpdate {
  date: string;
  task: string;
  status: "å¼€å§‹" | "å®Œæˆ" | "æš‚åœ" | "ç»§ç»­" | "å–æ¶ˆ";
  notes: string;
}
```

### æ›´æ–°å†å²
- 2024-05-16: é¡¹ç›®å¯åŠ¨ï¼Œå®Œæˆ PRD æ–‡æ¡£
- 2024-05-16: æ›´æ–° PRDï¼Œæ·»åŠ  generateImage å·¥å…·ï¼Œè°ƒæ•´ generatePrompt ä¸ºå†…éƒ¨æ–¹æ³•
- 2024-05-16: å®ŒæˆåŸºç¡€æ¡†æ¶æ­å»ºçš„ä¸»è¦éƒ¨åˆ†ï¼ŒåŒ…æ‹¬ MCP Server è®¾ç½®ã€TypeScript é…ç½®å’Œä¾èµ–é¡¹æ·»åŠ 
- 2024-05-16: å®Œæˆé¡¹ç›®ç›®å½•ç»“æ„åˆ›å»ºï¼ŒåŒ…æ‹¬ src/toolsã€src/modelsã€src/samplingã€templates å’Œ tests ç­‰ç›®å½•
- 2024-05-16: å®Œæˆå†…éƒ¨ generatePrompt åŠŸèƒ½å®ç°ï¼ŒåŒ…æ‹¬å‚æ•°éªŒè¯ã€æç¤ºè¯ç»„è£…å’Œé”™è¯¯å¤„ç†
- 2024-05-16: å®ç°åŸºæœ¬çš„ generateImage å·¥å…·ï¼Œå®Œæˆä¸ generatePrompt çš„é›†æˆ
- 2024-05-16: æ ¹æ® PRD è°ƒæ•´å‚æ•°ç»“æ„ï¼Œå®Œå–„æç¤ºè¯ç”Ÿæˆé€»è¾‘
- 2024-05-16: å®ç° Sampling åŠŸèƒ½ï¼ŒåŒ…æ‹¬ capabilities æ£€æŸ¥å’Œè¯·æ±‚å¤„ç†
- 2024-05-17: è°ƒæ•´å¼€å‘é¡ºåºï¼Œå°†æ¨¡æ¿ç®¡ç†åŠŸèƒ½æå‰ï¼Œæ ‡è®°å·²å®ç°çš„å›¾ç‰‡ç”ŸæˆåŠŸèƒ½ä¸ºéœ€è¦é‡æ„
- 2024-05-17: å®Œæˆ Sampling é›†æˆçš„ä¸»è¦åŠŸèƒ½å®ç°ï¼ŒåŒ…æ‹¬ checkSamplingSupportã€handleSamplingRequest å’Œ processSamplingResponse
- 2024-05-17: å®Œæˆ Sampling é›†æˆæµ‹è¯•çš„ç¼–å†™å’ŒéªŒè¯
- 2024-05-27: å®Œæˆæ¨¡æ¿ç®¡ç†åŠŸèƒ½çš„æ‰€æœ‰å·¥å…·å®ç°ï¼ŒåŒ…æ‹¬ listTemplatesã€getTemplateã€createTemplateã€createTemplateFromImageã€updateTemplate å’Œ deleteTemplate
- 2024-05-27: å®ç°æ¨¡æ¿ç®¡ç†åŠŸèƒ½çš„å•å…ƒæµ‹è¯•ï¼ŒåŒ…æ‹¬åŸºæœ¬åŠŸèƒ½æµ‹è¯•ã€å‚æ•°éªŒè¯æµ‹è¯•å’Œé”™è¯¯å¤„ç†æµ‹è¯•
- 2024-05-27: ä¿®å¤æ¨¡æ¿ç®¡ç†åŠŸèƒ½çš„æ‰€æœ‰å•å…ƒæµ‹è¯•é—®é¢˜ï¼Œæ›´æ–°å¼€å‘ä»»åŠ¡è¿›åº¦
